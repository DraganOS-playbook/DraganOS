---
title: Disable Scheduled Tasks
description: Disables scheduled tasks to prevent automatic tasks from running at startup, consuming resources and collecting user data
privilege: TrustedInstaller
actions:
    # Updates compatibility database
  - !scheduledTask: {path: '\Microsoft\Windows\Application Experience\PcaPatchDbTask', operation: disable}

    # UCPD - might not exist on all installs, so ignore errors
  - !scheduledTask: {path: '\Microsoft\Windows\AppxDeploymentClient\UCPD velocity', operation: disable, ignoreErrors: true}

    # Disable testing usage reports
  - !scheduledTask: {path: '\Microsoft\Windows\Flighting\FeatureConfig\UsageDataReporting', operation: disable, ignoreErrors: true}
  - !registryValue:
    path: 'HKLM\System\CurrentControlSet\Control\Ubpm'
    value: 'CriticalMaintenance_UsageDataReporting'
    operation: delete

    # Needed for Windows Update to function properly
  - !scheduledTask: {path: '\Microsoft\Windows\InstallService\ScanForUpdates', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\InstallService\ScanForUpdatesAsUser', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\WindowsUpdate\Scheduled Start', operation: disable}

    # Wouldn't be randomly executed
  - !scheduledTask: {path: '\Microsoft\Windows\Windows Defender', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\DiskDiagnostic\Microsoft-Windows-DiskDiagnosticDataCollector', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\DiskFootprint\Diagnostics', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\Maintenance\WinSAT', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\MemoryDiagnostic\RunFullMemoryDiagnostic', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\Shell\IndexerAutomaticMaintenance', operation: disable} # Unless indexing is enabled
  - !scheduledTask: {path: '\Microsoft\Windows\Shell\FamilySafetyMonitor', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\Shell\FamilySafetyRefresh', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\PI\Sqm-Tasks', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\Registry\RegIdleBackup', operation: disable} # Registry backups are disabled by default
  - !scheduledTask: {path: '\Microsoft\Windows\StateRepository\MaintenanceTasks', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\ApplicationData\appuriverifierdaily', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\Location', operation: disable}

    # Needs research
  - !scheduledTask: {path: '\Microsoft\Windows\AppID\EDP Policy Manager', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\ApplicationData\appuriverifierinstall', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\BrokerInfrastructure\BgTaskRegistrationMaintenanceTask', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\Defrag\ScheduledDefrag', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\Device Setup\Metadata Refresh', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\InstallService\SmartRetry', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\Management\Provisioning\Cellular', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\MemoryDiagnostic\ProcessMemoryDiagnosticEvents', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\Ras\MobilityManager', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\WaaSMedic\PerformRemediation', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\Windows Media Sharing\UpdateLibrary', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\CloudExperienceHost\CreateObjectTask', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\ApplicationData\DsSvcCleanup', operation: disable}
  - !scheduledTask: {path: '\Microsoft\Windows\Application Experience\StartupAppTask', operation: disable}